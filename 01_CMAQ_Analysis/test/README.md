# Test Folder - Generated Notebooks and Scripts

This folder contains notebooks and scripts generated by Claude Code for testing purposes.

## Contents

### `CMAQ_Fire_PM25_O3_Analysis.ipynb`

Comprehensive CMAQ analysis notebook with:

**Data Source:** `D:\Raw_Data\CMAQ_Model\`

**Analyses Included:**
1. **PM2.5 Analysis**
   - Concentration maps (base, no-fire, delta, delta %)
   - Fire impact quantification
   - PM2.5 vs photochemical age
   - PM2.5/CO ratios

2. **O3 Analysis (NEW!)**
   - O3 concentration maps (base, no-fire, delta, delta %)
   - Fire impact on ozone (can be positive or negative)
   - O3 vs photochemical age
   - O3/CO ratios

3. **Photochemical Age**
   - Calculated from benzene/toluene ratios
   - Spatial maps
   - Time series analysis

4. **City-Specific Analysis**
   - 11 cities tracked (NYC, Chicago, Toronto, Montreal, etc.)
   - Site-specific fire impacts

## Data Paths (Updated)

All paths point to local data:
```
Base directory:    D:/Raw_Data/CMAQ_Model/
CMAQ data:         D:/Raw_Data/CMAQ_Model/netcdffiles/
Meteorology:       D:/Raw_Data/CMAQ_Model/MOD3DATA_MET/
Cities data:       D:/Raw_Data/CMAQ_Model/cities.txt
Output directory:  D:/Raw_Data/CMAQ_Model/outputs/
```

## CMAQ Version

- **CMAQv6a1 CRACMM3** (CMAQ version 6 with CRACMM3 chemistry)
- Base scenario vs No-fire scenario comparison
- June 2023 data

## Outputs

When you run the notebook, it will generate:
- PNG figures of all maps
- PNG figures of time series plots
- CSV files with smoke-masked data
- CSV files with binned (quantile) data

All saved to: `D:/Raw_Data/CMAQ_Model/outputs/YYYYMMDD_*.png|csv`

## Usage

1. Open the notebook in Jupyter:
   ```bash
   cd C:\Users\smtku\OA_Evolution_Wildfires\01_CMAQ_Analysis\test
   jupyter notebook CMAQ_Fire_PM25_O3_Analysis.ipynb
   ```

2. Run all cells or step through analysis

3. Review and modify as needed for your final analysis

4. Copy to your production folder when ready

## Dependencies

Required Python packages:
- cmaqsatproc
- pandas
- xarray
- cartopy
- matplotlib
- numpy
- netCDF4
- PseudoNetCDF
- pyrsig
- pycno
- scipy
- plotly
- adjustText
- textalloc
- cmaps

## Notes

- This is a TEST version - review carefully before using in production
- All file paths have been updated to point to D:\Raw_Data
- The notebook includes both original PM2.5 analysis and new O3 analysis
- Output directory is created automatically if it doesn't exist

---

**Created by:** Claude Code
**Date:** 2025-11-18
**Purpose:** Testing CMAQ fire impact analysis with updated paths and O3 analysis
